
<!DOCTYPE html>

<html lang="fr">

    <head>
        <meta charset="UTF-8">
        
        <link href="/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="/css/bootstrap-theme.min.css" rel="stylesheet"/>
        <link href="/css/styles.css" rel="stylesheet"/>
        <link href="/css/sticky-footer.css" rel="stylesheet"/>

                    <title>MediaGrade: Modifier un projet</title>
        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="/js/validator.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>

        
        <!-- http://underscorejs.org/ -->
        <script src="/js/underscore-min.js"></script>
        
        <!-- https://github.com/twitter/typeahead.js/ -->
        <script src="/js/typeahead.jquery.js"></script>
        <script src="/js/bloodhound.js"></script>
        <script src="/js/scripts.js"></script>        
    </head>

    <body>
      
<div class="container ">
         
            
            
            
   <nav class="navbar navbar-default navbar-fixed-top" id="menu">
       <div class="container">     
           <!-- <img class="navbar-brand" alt="MediaGrade" src="/img/logo.png" />-->
           <ul class="nav navbar-nav">
                <li ><a href="index.php"><span class="glyphicon glyphicon-film"></span> Créer une leçon</a></li>
                <li ><a href="gradebook.php"><span class="glyphicon glyphicon-list-alt"></span> Corriger</a></li>
                <li ><a href="gallery.php?my"><span class="glyphicon glyphicon-briefcase"></span> Configuration</a></li>
                <li ><a href="gallery.php"><span class="glyphicon glyphicon-sunglasses"></span> Hall of Fame</a></li>
            </ul>
            
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-user"></span> Pierre Hélin</a></li>
                <li><a href="logout.php"><span class="glyphicon glyphicon-log-in"></span> Déconnection</a></li>
            </ul>
            
        </div>
   </nav> 

 <div class="row">
    <aside id="projects" class="col-md-2 bs-docs-sidebar">
        <nav itemscope itemtype="http://schema.org/SiteNavigationElement">
            <ul class="list-group small" itemprop="project">
                    <li><a class="list-group-item alert-info"href="admin.php">Nouveau projet<span class="glyphicon glyphicon-pencil pull-right"></a></li>
                        <li><a class="list-group-item" href="admin.php?project=1">Project 1 tutu<span class="glyphicon glyphicon-chevron-right pull-right"></a></li>
                        <li><a class="list-group-item" href="admin.php?project=2">Durée du projet<span class="glyphicon glyphicon-chevron-right pull-right"></a></li>
                        <li><a class="list-group-item" href="admin.php?project=8">Durée du projet<span class="glyphicon glyphicon-chevron-right pull-right"></a></li>
                        <li><a class="list-group-item" href="admin.php?project=9">Philadelphia<span class="glyphicon glyphicon-chevron-right pull-right"></a></li>
                        <li><a class="list-group-item" href="admin.php?project=12">test<span class="glyphicon glyphicon-chevron-right pull-right"></a></li>
                </ul>
        </nav>
    </aside>
  



 
 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.min.css" />

<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>
       

        
   <main class="col-md-10">         
       
       <form action="admin.php" method="post" enctype="multipart/form-data" id="form" role="form">
       
            <h4>Informations générales</h4>
            <div class="row">
                <div class = "col-xs-4">
                    <div class="form-group">
                        <label for="title">Titre du projet</label>
                        <input type="text" class="form-control" id="title" name="project_name" value="Project 1 tutu" required>
                    </div> 
                </div>
                <div class = "col-xs-3">
                    <label for="title">Type d'évaluation</label>
                    <select class="form-control" name="assessment_type">
                        <option>Formative</option>
                        <option>Certificative</option>
                        <option selected>Diagnostique</option>
                        <option>Sommative</option>
                    </select>
                </div>
                <div class = "col-xs-3">                    
                        
                    <label for="title">Période</label>
                    <select class="form-control" name="periode">
                        <option selected>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>XM Décembre</option>
                        <option>XM Juin</option>
                    </select>
                </div>
            </div>
            
            <div class="row">
                <div class = "col-xs-4">
                    <div class="form-group">
                        <label for="title">Classe</label>
                        <select class="form-control" name="class" required>
                            <option selected>3AV</option>
                            <option>4AV</option>
                            <option>5AV</option>
                            <option>6AV</option>
                        </select>
                    </div> 
                </div>
                <div class = "col-xs-3">                    
                    <div class="form-group">
                        <label class="control-label">Date de remise</label>
                        <div class="date">
                            <div class="input-group input-append date" id="datePicker">
                                <input type="text" class="form-control" name="deadline" required value="2015-10-16" />
                                <span class="input-group-addon add-on"><span class="glyphicon glyphicon-calendar"></span></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class = "col-xs-3">
                </div>
            </div>
            <div class="row">
                <div class = "col-xs-10">
                    <div class="form-group">
                        <label for="title">Compétences travaillées</label>
                        <select multiple class="form-control" name="skills[]" required multiple>

                          <option selected>F1 Construire le jugement éclairé en structurant la pensée critique (tant vis-à-vis de ses propres réalisations que de celles des autres) et permettre d’échanger ses raisons d’aimer en argumentant.
</option>
                          <option>F2 Assurer une relative aisance dans la manipulation du matériel audiovisuel de manière à préparer le travail créatif.
</option>
                          <option>F3 Etablir des rapports visuels (cadrage, lumières, couleurs, contrastes, raccords, profondeur de champs, mouvement du sujet et de la caméra…), temporels (rythmes, longueur et succession de séquences…), sonores (intensité, timbre, coloration, fréquences, mixage…), parlés (dialogue, timbre, respiration…) et narratifs de manière cohérente en les articulant sur une intention formelle ou expressive structurante.</option>

                        </select>
                        <p class="help-block with-errors">Appuyez sur CTRL pour une sélection multiple</p>
			        </div>
			    </div>
            </div>
            <div class="form-group">  
                <label class="control-label">Téléverser les consignes</label>            
                <input type="hidden" name="MAX_FILE_SIZE" value="209715200" />
                <input id="inputfile" name="submitted_file" data-error="Choisissez un fichier!"  type="file">
                <p class="help-block with-errors">Format PDF seulement</p>
            </div>
                        
            <hr/> 
            
            <h4>Grille d'évaluation</h4>      
                 
            <div id="cloned">
                <div class="clone-input"> <!-- Criteria row --> 
                    <div class="form-group ">                
                            
                                                    
                            <table class="table">
	                            <thead>
	                            <tr>
		                            <th>Objectif</th>
		                            <th>Critère</th>
		                            <th>Indicateur (l'élève a:)</th>
		                            <th>Coefficient</th>
		                            <th></th>
	                            </tr>
	                            </thead>
	                            <tbody>
	                            <tr  class="success">
		                            <td><select class="form-control input-sm" name="objective[]" required>
                                           
                                            <option selected>CONNAITRE</option>
                                           
                                            <option >FAIRE</option>
                                                                            </select>
                                                                            </td>
		                            <td><input class="typeahead_criteria form-control input-sm" value="Mangé" name="criterion[0][]" autocomplete required /></td>
		                            <td><textarea style="display:block" class="typeahead_cursors form-control input-sm" cols="50" rows="3" value="Nouveau critère" name="criterion[0][]" required>produit un travail correspondant aux consignes, mis sa photo dans le répertoire MASTER approprié et </textarea></td>
		                            <td> <input class="typeahead_criteria form-control input-sm" value="5" name="criterion[0][]" autocomplete required size="2" /></td>
		                            <td> <button type="button" class="btn btn-info btn-xs btn-danger pull-right del-criterion"><span class="glyphicon glyphicon-remove"></span> Supprimer</button></td>
	                            </tr>
	                            <tr class="warning">
		                            <td><select class="form-control input-sm" name="objective[]" required>
                                           
                                            <option selected>CONNAITRE</option>
                                           
                                            <option >FAIRE</option>
                                                                            </select>
                                                                            </td>
		                            <td><input class="typeahead_criteria form-control input-sm" value="Mangé" name="criterion[0][]" autocomplete required /></td>
		                            <td><textarea style="display:block" class="typeahead_cursors form-control input-sm" cols="50" rows="3" value="Nouveau critère" name="criterion[0][]" required>produit un travail correspondant aux consignes, mis sa photo dans le répertoire MASTER approprié et </textarea></td>
		                            <td> <input class="typeahead_criteria form-control input-sm" value="5" name="criterion[0][]" autocomplete required size="2" /></td>
		                            <td> <button type="button" class="btn btn-info btn-xs btn-danger pull-right del-criterion"><span class="glyphicon glyphicon-remove"></span> Supprimer</button></td>
	                            </tr>
	                            <tr class="warning">
		                            <td><select class="form-control input-sm" name="objective[]" required>
                                           
                                            <option selected>CONNAITRE</option>
                                           
                                            <option >FAIRE</option>
                                                                            </select>
                                                                            </td>
		                            <td><input class="typeahead_criteria form-control input-sm" value="Mangé" name="criterion[0][]" autocomplete required /></td>
		                            <td><textarea style="display:block" class="typeahead_cursors form-control input-sm" cols="50" rows="3" value="Nouveau critère" name="criterion[0][]" required>produit un travail correspondant aux consignes, mis sa photo dans le répertoire MASTER approprié et </textarea></td>
		                            <td> <input class="typeahead_criteria form-control input-sm" value="5" name="criterion[0][]" autocomplete required size="2" /></td>
		                            <td> <button type="button" class="btn btn-info btn-xs btn-danger pull-right del-criterion"><span class="glyphicon glyphicon-remove"></span> Supprimer</button></td>
	                            </tr>
	                            
	                            <tr  class="success">
		                            <td><select class="form-control input-sm" name="objective[]" required>
                                           
                                            <option selected>CONNAITRE</option>
                                           
                                            <option >FAIRE</option>
                                                                            </select>
                                                                            </td>
		                            <td><input class="typeahead_criteria form-control input-sm" value="Mangé" name="criterion[0][]" autocomplete required /></td>
		                            <td><textarea style="display:block" class="typeahead_cursors form-control input-sm" cols="50" rows="3" value="Nouveau critère" name="criterion[0][]" required>produit un travail correspondant aux consignes, mis sa photo dans le répertoire MASTER approprié et </textarea></td>
		                            <td> <input class="typeahead_criteria form-control input-sm" value="5" name="criterion[0][]" autocomplete required size="2" /></td>
		                            <td> <button type="button" class="btn btn-info btn-xs btn-danger pull-right del-criterion"><span class="glyphicon glyphicon-remove"></span> Supprimer</button></td>
	                            </tr>
	                            <tr class="warning">
		                            <td><select class="form-control input-sm" name="objective[]" required>
                                           
                                            <option selected>CONNAITRE</option>
                                           
                                            <option >FAIRE</option>
                                                                            </select>
                                                                            </td>
		                            <td><input class="typeahead_criteria form-control input-sm" value="Mangé" name="criterion[0][]" autocomplete required /></td>
		                            <td><textarea style="display:block" class="typeahead_cursors form-control input-sm" cols="50" rows="3" value="Nouveau critère" name="criterion[0][]" required>produit un travail correspondant aux consignes, mis sa photo dans le répertoire MASTER approprié et </textarea></td>
		                            <td> <input class="typeahead_criteria form-control input-sm" value="5" name="criterion[0][]" autocomplete required size="2" /></td>
		                            <td> <button type="button" class="btn btn-info btn-xs btn-danger pull-right del-criterion"><span class="glyphicon glyphicon-remove"></span> Supprimer</button></td>
	                            </tr>
	                            </tbody>
                        </table>
                </div> <!-- close Criteria row-->
             </div>
             
             
            <div class="form-group">
                <button type="button" class="btn btn-info btn-xs add_criteria"><span class="glyphicon glyphicon-plus"></span>Ajouter un critère</button>
                
            </div>
            <hr />
            <h4>Auto-évaluation</h4>
            
                    <div class="row"> 
                        <div class="col-xs-5">
                           
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" value="1" name="data_eval_id[]" checked>
                                    Quelles ont été les difficultés que vous avez rencontré lors de la réalisation du projet?                                </label>
                            </div>
                           
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" value="2" name="data_eval_id[]" checked>
                                    Qu'avez-vous appris à l'issue de ce projet?                                </label>
                            </div>
                           
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" value="10" name="data_eval_id[]" >
                                    EFEZFZEF                                </label>
                            </div>
                           
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" value="11" name="data_eval_id[]" >
                                    EFEZFZEFthrth                                </label>
                            </div>
                           
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" value="12" name="data_eval_id[]" >
                                    EFEZFZEFthr                                </label>
                            </div>
                     
                        </div>
                        <div class="col-xs-5">
                            <div class="auto-assessments">    
                                <div class="checkbox">
                                    <textarea class="form-control input-sm " rows="3" value="Nouveau critère (from user)" name="user_eval"></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                    <button type="button" class="btn btn-xs add_auto-assessment"><span class="glyphicon glyphicon-plus"></span> Ajouter une question</button>
                            </div>
                        </div>
                    </div>
            <hr />
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Sauver le projet</button> 
                <input type="hidden" name="project_id" value="1">
            </form>    
                
                
                <form action="admin.php" method="post" enctype="multipart/form-data">
                    <button type="submit" class="btn btn-danger  pull-right" name="remove_levels" value="delete"><span class="glyphicon glyphicon-remove"></span> Supprimer le projet</button>
                    <input type="hidden" name="delete" value="1">
                </form>
                
                        
            </div>       

       


   </main>
   
   
   <script>
   
   
$(document).ready(function() {
    $('#datePicker')
        .datepicker({
            format: 'yyyy-mm-dd'
        })
        .on('changeDate', function(e) {
            // Revalidate the date field
            $('#eventForm').formValidation('revalidateField', 'date');
        });
});



/*
 *     Deletes and adds cursors
 *
 */
 
//set a counter
var j = $('.cursor').length;


//add cursor input
$('body').on('click', '.add_cursor', function () {
   console.log("name is #" + this.name); 
  
  var newcursor = $('#' + this.name + ' .cursor')
    .eq(0).clone();
  
  newcursor.find('textarea').each(function() 
  {
        
      this.name = this.name.replace('.0', '.' + j);
       
  });
 
  $("#" + this.name).append(newcursor);
  j++;
  
});


// fadeout selected item and remove
$('body').on('click', '.del-cursor', function () {
    $(this).parent().fadeOut(300, function () {
        $(this).empty();
        
        return false;
    });
});

/*
 *     Deletes and adds auto-assessments
 *
 */
 
//set a counter
var j = $('.cursor').length + 1;


//add cursor input
$('body').on('click', '.add_auto-assessment', function () {
  console.log("name is #" + this.name); 
  
  var newassessment = $('.auto-assessments .checkbox')
    .eq(0).clone();
  
  newassessment.find('textarea').each(function() 
  {
        
      this.name = this.name.replace('0', j);
       
  });
 
  $('div.auto-assessments').append(newassessment);
  j++;
  
});


// fadeout selected item and remove
$('body').on('click', '.del-cursor', function () {
    $(this).parent().fadeOut(300, function () {
        $(this).empty();
        
        return false;
    });
});



/*
 *  Clones and deletes entire form
 *
 */

var i = $(".clone-input").length;

$('.add_criteria').click(function ()
{
  
  
  var newform= $("#cloned .clone-input")
    .eq(0).clone();
  
  // increment name value
  newform.find('textarea').each(function() 
  {
        
      this.name = this.name.replace('-0', '-' + i);
       
  });
  
  // increment id value of buttons
  newform.find('button').each(function() 
  {
        
      this.name = this.name.replace('0', i);
       
  });
  
  // increment id cursors div
  newform.find('[id="cursors-0"]').each(function() 
  {
        
      this.id = this.id.replace('0', i);
       
  });
  
  // increment name criterion div
  newform.find('[name="criterion[0]"]').each(function() 
  {
        
      this.name = this.name.replace('0', i);
       
  });
 
   newform.find('[name="criterion[0][]"]').each(function() 
  {
        
      this.name = this.name.replace('0', i);
       
  });
  
  $('#cloned').append(newform);
  i++;
     
});



// TODO
// unhide del button on first clone


// fadeout selected item and remove
$('body').on('click', '.del-criterion', function () {
    $(this).parent().parent().fadeOut(300, function () {
        $(this).empty();
         console.log("name is #" + this.name);
        return false;
    });
});

 // TODO function to return last id and POST it through hidden input 


</script>
        
               </div> <!-- Row-->
           </div> <!-- Container-->
          
		   <footer class="footer">
                <div class="container text-center">
                    <p>MediaGrade, 2015</p>
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
                </div>
           </footer>

    </body>
</html>

